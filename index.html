<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4A90E2">
    <meta name="description" content="A simple PWA demo app that works offline on iPhone">
    
    <title>PWA Demo App</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="images/icon-192.png">
    <link rel="apple-touch-icon" href="images/icon-192.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Dancing Kitty -->
        <div class="dancing-kitty">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 120" width="80" height="100">
                <!-- Body -->
                <ellipse cx="50" cy="70" rx="25" ry="35" fill="#FF9999"/>
                
                <!-- Head -->
                <circle cx="50" cy="35" r="20" fill="#FF9999"/>
                
                <!-- Ears -->
                <polygon points="35,15 30,0 40,10" fill="#FF9999"/>
                <polygon points="65,15 70,0 60,10" fill="#FF9999"/>
                <polygon points="36,12 33,5 38,11" fill="#FFCCCC"/>
                <polygon points="64,12 67,5 62,11" fill="#FFCCCC"/>
                
                <!-- Eyes -->
                <circle cx="43" cy="32" r="2.5" fill="#000"/>
                <circle cx="57" cy="32" r="2.5" fill="#000"/>
                
                <!-- Mouth -->
                <path d="M 50 38 Q 48 41 45 40" stroke="#000" stroke-width="1.5" fill="none"/>
                <path d="M 50 38 Q 52 41 55 40" stroke="#000" stroke-width="1.5" fill="none"/>
                
                <!-- Nose -->
                <polygon points="50,36 48,39 52,39" fill="#FF6666"/>
                
                <!-- Front Paws -->
                <rect x="38" y="95" width="6" height="18" fill="#FF9999"/>
                <rect x="56" y="95" width="6" height="18" fill="#FF9999"/>
                
                <!-- Tail (animated) -->
                <path d="M 70 65 Q 85 60 80 45" stroke="#FF9999" stroke-width="6" fill="none" stroke-linecap="round"/>
            </svg>
        </div>

        <header>
            <h1>PWA Demo App</h1>
            <p class="subtitle">Works offline on iPhone!</p>
        </header>

        <main>
            <!-- Feature 1: Click Counter -->
            <section class="card">
                <h2>üìä Click Counter</h2>
                <p>This counter works offline and saves between sessions.</p>
                <div class="counter-display" id="counterDisplay">0</div>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="incrementCounter()">Click Me</button>
                    <button class="btn btn-secondary" onclick="resetCounter()">Reset</button>
                </div>
            </section>

            <!-- Feature 2: Offline Status -->
            <section class="card">
                <h2>üì° Connection Status</h2>
                <p>This updates when you go offline (airplane mode).</p>
                <div class="status-indicator" id="statusIndicator">
                    <span class="status-dot online"></span>
                    <span id="statusText">Online</span>
                </div>
            </section>

            <!-- Feature 3: Notifications -->
            <section class="card">
                <h2>üîî Notifications</h2>
                <p>Send yourself a test notification (requires permission).</p>
                <button class="btn btn-primary" onclick="requestNotificationPermission()">Enable Notifications</button>
                <button class="btn btn-success" onclick="sendTestNotification()" id="notificationBtn" disabled>Send Notification</button>
            </section>

            <!-- Feature 4: Install Prompt -->
            <section class="card">
                <h2>üì≤ Install App</h2>
                <p>On iPhone: Tap Share ‚Üí Add to Home Screen</p>
                <p>On Android: Tap the install button below</p>
                <button class="btn btn-primary" onclick="promptInstall()" id="installBtn" style="display: none;">Install App</button>
                <p id="installMessage" style="color: #666; font-size: 0.9em; margin-top: 10px;">
                    Ready to be installed on home screen
                </p>
            </section>

            <!-- Feature 5: App Info -->
            <section class="card">
                <h2>‚ÑπÔ∏è App Info</h2>
                <p>You're running this app in:</p>
                <div class="info-box">
                    <p><strong>User Agent:</strong> <span id="userAgent">Loading...</span></p>
                    <p><strong>Service Worker:</strong> <span id="swStatus">Checking...</span></p>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2026 PWA Demo | All features work offline</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
